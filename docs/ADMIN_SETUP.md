# Настройка доступа к админке

## Способ 1: Использование скрипта (Рекомендуется)

1. **Зарегистрируйте пользователя** через форму регистрации на сайте

2. **Назначьте пользователя админом** через скрипт:

```bash
cd server
npm run make-admin <email>
```

Например:
```bash
npm run make-admin user@example.com
```

3. **Выйдите и войдите заново** в систему, чтобы обновить JWT токен

4. На странице Home появится кнопка **"Go to Admin Panel"**

## Способ 2: Через MongoDB напрямую

1. Подключитесь к MongoDB:

```bash
mongosh
```

2. Выберите базу данных:

```javascript
use arh3d
```

3. Назначьте пользователя админом:

```javascript
db.users.updateOne(
  { email: "user@example.com" },
  { $set: { isAdmin: true } }
)
```

4. Выйдите и войдите заново в систему

## Способ 3: Создание первого админа при регистрации

Можно модифицировать код регистрации, чтобы первый зарегистрированный пользователь автоматически становился админом.

## Проверка доступа

После назначения админом:
- На странице Home появится кнопка "Go to Admin Panel"
- Можно перейти напрямую на `/admin`
- В админке будет виден список всех пользователей

## Важно

- После изменения прав нужно **перелогиниться**, чтобы обновить JWT токен
- JWT токен содержит информацию о правах, поэтому старый токен не будет иметь админских прав

